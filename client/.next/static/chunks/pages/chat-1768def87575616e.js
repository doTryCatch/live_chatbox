(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{22:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return s(724)}])},724:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(5893),a=s(3920),l=s(7294),c=s(1163),r=s(5675),i=s.n(r),d={src:"/_next/static/media/send.a88dddf2.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA3UlEQVR42k2PzUpCcRTEj9QbtGsTeHMhEaT+gwrCqz1JtGlbDxFEbQvyRpsgWgluXejuiviNih9XxLVPIMqZ8a+COjBw4DdnYGQlDN2Q9aHsSfvuE/zLkewDFQlhcnevA7eLfIzwLzrbD/STDxinA/SS1P8zonBOtownCFLPtiXQcZpo31K9yAK56JxNQ5Tjj2Lhi45SC1RvoB/hGX4jynqCqMRXvt7UF82VfjnEt3UpRtbWgSmriaNN4O3Y0c8wkY2+smFqFtJCfzfJOzXIOD/r+/3kwMI/G8qIiCwBSCyCoOfj/QEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};let o=(0,a.io)("https://chat-server-3lqo.onrender.com");function m(){let e=(0,c.useRouter)(),t=()=>{let e=new Date,t=e.getHours(),s=e.getMinutes(),n=t>=12?"PM":"AM";t=t>12?t-12:t;let a=s<10?"0"+s:s;return"".concat(t,":").concat(a," ").concat(n)},s=(0,c.useRouter)();(0,l.useRef)(null);let[a,r]=(0,l.useState)(0),[m,u]=(0,l.useState)([{title:"",content:"",img:"",url:"",date:""}]),[h,x]=(0,l.useState)(""),[w,f]=(0,l.useState)({message:"",side:"justify-start",color:"bg-white-700",name:""}),p=(0,l.useRef)(null),{name:g,room:j}=s.query;(0,l.useEffect)(()=>{v()},[]),setTimeout(()=>{var e=a;e<m.length-1?e++:e=0,r(e)},7e3),(0,l.useEffect)(()=>(o.emit("join",{name:g,room:j}),o.on("receive",e=>{console.log("receive",e),f({message:e.message,side:"justify-start",color:"bg-orange-800",name:e.name})}),()=>{o.disconnect()}),[j]);let N=()=>{if(p.current){let{scrollHeight:e,clientHeight:t}=p.current;p.current.scrollTop+=e-t}},b=()=>{""!==h&&(o.emit("send",h),f({message:h,side:"justify-end",color:"bg-green-800",name:"you"}),x(""))},v=()=>{fetch("https://newsdata.io/api/1/news?apikey=pub_2971235970e3d943531bb2e9fc7e1855cbc3b&q=all%20technology%20news%20in%20english").then(e=>{if(!e.ok)throw Error("Network is not responding!!");return e.json()}).then(e=>{let t=e.results,s=t.map(e=>({title:e.title,content:e.description,img:e.image_url,url:e.link,date:e.pubDate}));u(s)}).catch(e=>{console.error("Error fetching news data:",e)})};return(0,l.useEffect)(()=>{let e=document.querySelector(".board"),s=document.createElement("div");s.className="flex ",s.classList.add(w.side);let n=document.createElement("div");n.className="max-w-xs mx-2 my-2 p-3 rounded-lg shadow-md text-white space-y-2",n.classList.add(w.color);let a=document.createElement("div");a.className="justify-end min-w-[90px] flex space-x-4 text-black";let l=document.createElement("p");l.className="text-[11px] font-bold",l.textContent=w.name;let c=document.createElement("p");c.className="text-[11px] font-bold",c.textContent=t(),a.append(l),a.append(c);let r=document.createElement("p");r.className="text-sm font-bold",r.textContent=""!==w.message?w.message:"Welcome to this chat house!!!",n.appendChild(r),n.append(a),s.appendChild(n),null==e||e.append(s),N()},[w]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("section",{className:"container md:w-[100rem] w-[25rem] ",children:(0,n.jsxs)("div",{className:"chat_area md:w-[70%] w-[100%] ",children:[(0,n.jsxs)("div",{className:"show_content_area w-[100%] h-[35vh] text-center ",children:[(0,n.jsxs)("div",{className:"about w-[60%] flex items-center justify-between",children:[(0,n.jsx)("div",{className:"aboutme ml-5 -mt-10 md:-mt-2 md:-ml-40 center",children:(0,n.jsx)("button",{className:"text-white",onClick:()=>{e.push({pathname:"/aboutme"})},children:"About Me"})}),(0,n.jsx)("div",{className:"head center",children:(0,n.jsx)("h1",{className:"text-[25px] font-bold text-white",children:"News"})})]}),(0,n.jsx)("div",{className:"news w-[95%] h-[80%] center ",children:(0,n.jsxs)("div",{className:"text-white w-[100%] md:h-[100%] center h-[100%] flex",children:[(0,n.jsx)("div",{className:"img w-[45%] md:w-[35%] md:h-[90%] h-[70%] flex items-center justify-center ml-5 shadow-md opacity-70 rounded-lg overflow-hidden",children:(0,n.jsx)("img",{src:m[a].img,alt:"",className:"scale-[1.8] h-full w-full"})}),(0,n.jsxs)("div",{className:"info w-[65%] md:w-[75%]",children:[(0,n.jsx)("div",{className:"head text-left mx-4 max-h-[24%] md:max-h-[28%] text-sm md:text-lg overflow-hidden truncate-text",children:m[a].title}),(0,n.jsx)("hr",{className:"w-[80%] mx-4 my-2"}),(0,n.jsxs)("div",{className:"description text-left mx-4 my-2 text-[10px] md:text-[12px] h-20 ",children:[(0,n.jsx)("p",{className:"truncate-text",children:m[a].content}),(0,n.jsx)("a",{href:m[a].url,className:"text-yellow-600 text-lg",target:"_blank",rel:"noopener noreferrer",children:"Read More.."})]})]})]})})]}),(0,n.jsx)("div",{className:"overflow-y-auto px-4 max-h-[300px] w-full board",ref:p}),(0,n.jsx)("div",{className:"type_area w-[100%] flex items-center justify-center my-8",children:(0,n.jsxs)("div",{className:"cont flex w-[90%] md:w-[95%]",children:[(0,n.jsx)("div",{className:"input w-[80%] md:w-[90%]",children:(0,n.jsx)("input",{type:"text",id:"room-id",value:h,onChange:e=>{x(e.target.value)},onKeyDown:e=>{"Enter"===e.code&&b()},className:"input-area text-slate-200 w-[100%] px-3 py-2 border-b bg-transparent border-gray-300 focus:outline-none focus:border-blue-500",placeholder:"Enter Message"})}),(0,n.jsx)("div",{className:"btn w-[20%] text-center center",children:(0,n.jsx)("button",{className:"send",onClick:b,children:(0,n.jsx)(i(),{src:d,alt:"Send",width:25,height:20})})})]})})]})})})}}},function(e){e.O(0,[675,503,774,888,179],function(){return e(e.s=22)}),_N_E=e.O()}]);